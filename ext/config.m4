PHP_ARG_ENABLE(test, whether to enable phalcon, [ --enable-phalcon   Enable Phalcon framework])

if test "$PHP_TEST" = "yes"; then
	AC_DEFINE(HAVE_PHALCON, 1, [Whether you have Phalcon])
	test_sources="phalcon.c kernel/main.c kernel/memory.c kernel/exception.c kernel/hash.c kernel/debug.c kernel/backtrace.c kernel/object.c kernel/array.c kernel/string.c kernel/fcall.c kernel/alternative/fcall.c kernel/operators.c kernel/concat.c acl/adapter/memory.c acl/adapter.c acl/adapterinterface.c acl/exception.c acl/resource.c acl/resourceinterface.c acl/role.c acl/roleinterface.c acl.c annotations/adapter/apc.c annotations/adapter/files.c annotations/adapter/memory.c annotations/adapter/xcache.c annotations/adapter.c annotations/adapterinterface.c annotations/annotation.c annotations/collection.c annotations/exception.c annotations/reader.c annotations/readerinterface.c annotations/reflection.c assets/collection.c assets/exception.c assets/filterinterface.c assets/filters/cssmin.c assets/filters/jsmin.c assets/filters/none.c assets/manager.c assets/resource/css.c assets/resource/js.c assets/resource.c cache/backend/apc.c cache/backend/file.c cache/backend/libmemcached.c cache/backend/memcache.c cache/backend/memory.c cache/backend/mongo.c cache/backend/xcache.c cache/backend.c cache/backendinterface.c cache/exception.c cache/frontend/base64.c cache/frontend/data.c cache/frontend/igbinary.c cache/frontend/json.c cache/frontend/none.c cache/frontend/output.c cache/frontendinterface.c cache/multiple.c cli/console/exception.c cli/console.c cli/dispatcher/exception.c cli/dispatcher.c cli/router/exception.c cli/router.c cli/task.c config/adapter/ini.c config/adapter/json.c config/exception.c config.c crypt/exception.c crypt.c cryptinterface.c db/adapter/pdo/mysql.c db/adapter/pdo/oracle.c db/adapter/pdo/postgresql.c db/adapter/pdo/sqlite.c db/adapter/pdo.c db/adapter.c db/adapterinterface.c db/column.c db/columninterface.c db/dialect/mysql.c db/dialect/oracle.c db/dialect/postgresql.c db/dialect/sqlite.c db/dialect.c db/dialectinterface.c db/exception.c db/index.c db/indexinterface.c db/profiler/item.c db/profiler.c db/rawvalue.c db/reference.c db/referenceinterface.c db/result/pdo.c db/resultinterface.c db.c debug.c di/exception.c di/factorydefault/cli.c di/factorydefault.c di/injectable.c di/injectionawareinterface.c di/service/builder.c di/service.c di/serviceinterface.c di.c diinterface.c dispatcher.c dispatcherinterface.c escaper/exception.c escaper.c escaperinterface.c events/event.c events/eventsawareinterface.c events/exception.c events/manager.c events/managerinterface.c exception.c filter/exception.c filter/userfilterinterface.c filter.c filterinterface.c flash/direct.c flash/exception.c flash/session.c flash.c flashinterface.c forms/element/check.c forms/element/date.c forms/element/email.c forms/element/file.c forms/element/hidden.c forms/element/numeric.c forms/element/password.c forms/element/select.c forms/element/submit.c forms/element/text.c forms/element/textarea.c forms/element.c forms/elementinterface.c forms/exception.c forms/form.c forms/manager.c http/cookie/exception.c http/cookie.c http/request/exception.c http/request/file.c http/request/fileinterface.c http/request.c http/requestinterface.c http/response/cookies.c http/response/cookiesinterface.c http/response/exception.c http/response/headers.c http/response/headersinterface.c http/response.c http/responseinterface.c image/adapter/gd.c image/adapter/imagick.c image/adapter.c image/adapterinterface.c image/exception.c image.c kernel.c loader/exception.c loader.c logger/adapter/file.c logger/adapter/firephp.c logger/adapter/stream.c logger/adapter/syslog.c logger/adapter.c logger/adapterinterface.c logger/exception.c logger/formatter/firephp.c logger/formatter/json.c logger/formatter/line.c logger/formatter/syslog.c logger/formatter.c logger/formatterinterface.c logger/item.c logger/multiple.c logger.c mvc/application/exception.c mvc/application.c mvc/collection/document.c mvc/collection/exception.c mvc/collection/manager.c mvc/collection/managerinterface.c mvc/collection.c mvc/collectioninterface.c mvc/controller.c mvc/controllerinterface.c mvc/dispatcher/exception.c mvc/dispatcher.c mvc/dispatcherinterface.c mvc/micro/collection.c mvc/micro/collectioninterface.c mvc/micro/exception.c mvc/micro/lazyloader.c mvc/micro/middlewareinterface.c mvc/micro.c mvc/model/behavior/softdelete.c mvc/model/behavior/timestampable.c mvc/model/behavior.c mvc/model/behaviorinterface.c mvc/model/criteria.c mvc/model/criteriainterface.c mvc/model/exception.c mvc/model/manager.c mvc/model/managerinterface.c mvc/model/message.c mvc/model/messageinterface.c mvc/model/metadata/apc.c mvc/model/metadata/files.c mvc/model/metadata/memory.c mvc/model/metadata/session.c mvc/model/metadata/strategy/annotations.c mvc/model/metadata/strategy/introspection.c mvc/model/metadata/xcache.c mvc/model/metadata.c mvc/model/metadatainterface.c mvc/model/query/builder.c mvc/model/query/builderinterface.c mvc/model/query/lang.c mvc/model/query/status.c mvc/model/query/statusinterface.c mvc/model/query.c mvc/model/queryinterface.c mvc/model/relation.c mvc/model/relationinterface.c mvc/model/resultinterface.c mvc/model/resultset/complex.c mvc/model/resultset/simple.c mvc/model/resultset.c mvc/model/resultsetinterface.c mvc/model/row.c mvc/model/transaction/exception.c mvc/model/transaction/failed.c mvc/model/transaction/manager.c mvc/model/transaction/managerinterface.c mvc/model/transaction.c mvc/model/transactioninterface.c mvc/model/validationfailed.c mvc/model/validator/email.c mvc/model/validator/exclusionin.c mvc/model/validator/inclusionin.c mvc/model/validator/numericality.c mvc/model/validator/presenceof.c mvc/model/validator/regex.c mvc/model/validator/stringlength.c mvc/model/validator/uniqueness.c mvc/model/validator/url.c mvc/model/validator.c mvc/model/validatorinterface.c mvc/model.c mvc/modelinterface.c mvc/moduledefinitioninterface.c mvc/router/annotations.c mvc/router/exception.c mvc/router/group.c mvc/router/route.c mvc/router/routeinterface.c mvc/router.c mvc/routerinterface.c mvc/url/exception.c mvc/url.c mvc/urlinterface.c mvc/user/component.c mvc/user/module.c mvc/user/plugin.c mvc/view/engine/php.c mvc/view/engine/volt/compiler.c mvc/view/engine/volt.c mvc/view/engine.c mvc/view/engineinterface.c mvc/view/exception.c mvc/view/simple.c mvc/view.c mvc/viewinterface.c paginator/adapter/model.c paginator/adapter/nativearray.c paginator/adapter/querybuilder.c paginator/adapterinterface.c paginator/exception.c queue/beanstalk/job.c queue/beanstalk.c security/exception.c security.c session/adapter/files.c session/adapter.c session/adapterinterface.c session/bag.c session/baginterface.c session/exception.c session.c tag/exception.c tag/select.c tag.c text.c translate/adapter/nativearray.c translate/adapter.c translate/adapterinterface.c translate/exception.c translate.c validation/exception.c validation/message/group.c validation/message.c validation/validator/between.c validation/validator/confirmation.c validation/validator/email.c validation/validator/exclusionin.c validation/validator/identical.c validation/validator/inclusionin.c validation/validator/presenceof.c validation/validator/regex.c validation/validator/stringlength.c validation/validator.c validation/validatorinterface.c validation.c version.c"
	PHP_NEW_EXTENSION(phalcon, $phalcon_sources, $ext_shared)
fi
